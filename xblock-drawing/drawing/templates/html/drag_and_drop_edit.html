{% load i18n %}
{% load l10n %}

<div class="xblock--drawing--editor editor-with-buttons">
    <h3>{% trans "Drawing Canvas Preview" %}</h3>
    <canvas id="drawing-canvas-edit" width="400" height="400" style="border:1px solid #333; background:#fff;"></canvas>
    <div style="margin-top:10px; color: #888;">
        {% trans "This is a preview. In the LMS, students will be asked to draw a line with positive slope." %}
    </div>
    <div style="margin-top:30px; text-align:left;">
        <form class="feedback-form">
            <label class="h4">
                <span>{% trans fields.display_name.display_name %}</span>
                <input class="display-name" value="{{ self.display_name }}" />
            </label>
            <label class="h4">
                <span>{% trans fields.question_text.display_name %}</span>
                <textarea class="problem-text">{{ self.question_text }}</textarea>
            </label>
            <label class="h4">
                <span>{% trans fields.weight.display_name %}</span>
                <input class="weight" type="number" step="0.1" value="{{ self.weight|unlocalize }}" />
            </label>
        </form>
    </div>
</div>
<script src="/static/drawing/js/drag_and_drop_edit.js"></script>
                            {% trans "Generate image automatically" %}
                        </label>
                    </fieldset>
                    <fieldset class="background-manual">
                        <label class="h4" for="background-url-{{id_suffix}}">
                            <span>{% trans "Background URL" %}</span>
                        </label>
                        <input class="background-url"
                              id="background-url-{{id_suffix}}"
                              type="text"
                              aria-describedby="background-url-description-{{id_suffix}}" />
                        </label>
                        <button type="button" class="btn">{% trans "Change background" %}</button>
                        <div id="background-url-description-{{id_suffix}}" class="form-help">
                            {% trans "For example, 'http://example.com/background.png' or '/static/background.png'." %}
                        </div>
                    </fieldset>
                    <fieldset class="background-auto">
                        <fieldset>
                            <legend class="h4">{% trans "Zone Layout" %}</legend>
                            <label class="sr" for="autozone-cols-{{id_suffix}}">
                                {% trans "Number of columns" %}
                            </label>
                            <input id="autozone-cols-{{id_suffix}}"
                                   class="autozone-layout autozone-layout-cols"
                                   type="text"
                                   aria-describedby="autozone-layout-description-{{id_suffix}}" />
                            <span>&times;</span>
                            <label class="sr" for="autozone-rows-{{id_suffix}}">
                                {% trans "Number of rows" %}
                            </label>
                            <input id="autozone-rows-{{id_suffix}}"
                                   class="autozone-layout autozone-layout-rows"
                                   type="text"
                                   aria-describedby="autozone-layout-description-{{id_suffix}}" />
                            <div id="autozone-layout-description-{{id_suffix}}" class="form-help">
                                {% trans "Number of columns and rows." %}
                            </div>
                        </fieldset>
                        <fieldset>
                            <legend class="h4">{% trans "Zone Size" %}</legend>
                            <label class="sr" for="autozone-zone-width-{{id_suffix}}">
                                {% trans "Zone width" %}
                            </label>
                            <input id="autozone-zone-width-{{id_suffix}}"
                                   class="autozone-size autozone-size-width"
                                   type="text"
                                   aria-describedby="autozone-size-description-{{id_suffix}}" />
                            <span>&times;</span>
                            <label class="sr" for="autozone-zone-height-{{id_suffix}}">
                                {% trans "Zone height" %}
                            </label>
                            <input id="autozone-zone-height-{{id_suffix}}"
                                   class="autozone-size autozone-size-height"
                                   type="text"
                                   aria-describedby="autozone-size-description-{{id_suffix}}" />
                            <div id="autozone-size-description-{{id_suffix}}" class="form-help">
                                {% trans "Size of a single zone in pixels." %}
                            </div>
                        </fieldset>
                        <button type="button" class="btn">{% trans "Generate image and zones" %}</button>
                    </fieldset>
                    <label class="h4">
                        <span>{% trans "Background description" %}</span>
                        <textarea required class="background-description"
                                  aria-describedby="background-description-description-{{id_suffix}}"></textarea>
                    </label>
                    <div id="background-description-description-{{id_suffix}}" class="form-help">
                        {% blocktrans %}
                            Please provide a description of the image for non-visual users.
                            The description should provide sufficient information to allow anyone
                            to solve the problem even without seeing the image.
                        {% endblocktrans %}
                    </div>
                </form>
            </div>
            <div class="tab-content">
                <form class="display-labels-form">
                    <h4>{% trans "Zone labels" %}</h4>
                    <label class="checkbox-label">
                        <input name="display-labels" class="display-labels" type="checkbox" />
                        <span>{% trans "Display label names on the image" %}</span>
                    </label>
                </form>
                <form class="display-borders-form">
                    <h4>{% trans "Zone borders" %}</h4>
                    <label class="checkbox-label">
                        <input name="display-borders" class="display-borders" type="checkbox" />
                        <span>{% trans "Display zone borders on the image" %}</span>
                    </label>
                </form>
                <form class="display-borders-dragging-form">
                    <label class="checkbox-label">
                        <input name="display-borders-dragging" class="display-borders-dragging" type="checkbox" />
                        <span>{% trans "Display zone borders when dragging an item" %}</span>
                    </label>
                </form>
            </div>
            <div class="tab-content">
                <h4>{% trans "Zone definitions" %}</h4>
                <div class="zone-editor">
                    <div class="controls">
                        <form class="zones-form"></form>
                        <button class="btn add-zone add-element">
                            <span class="icon add" aria-hidden="true"></span>
                            {% trans "Add a zone" %}
                        </button>
                    </div>
                    <div class="target">
                        <img class="target-img">
                        <div class="zones-preview">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="tab items-tab hidden">
            <header class="tab-header">
                <h3>{% trans "Items" %}</h3>
            </header>
            <div class="tab-content">
                <form class="item-styles-form">
                    <label class="h4">
                        <span>{% trans fields.item_background_color.display_name %}</span>
                        <input class="item-background-color"
                               value="{{ self.item_background_color }}"
                               aria-describedby="item-background-color-description-{{id_suffix}}">
                    </label>
                    <div id="item-background-color-description-{{id_suffix}}" class="form-help">
                      {% trans fields.item_background_color.help %}
                    </div>
                    <label class="h4">
                        <span>{% trans fields.item_text_color.display_name %}</span>
                        <input class="item-text-color"
                               value="{{ self.item_text_color}}"
                               aria-describedby="item-text-color-description-{{id_suffix}}">
                    </label>
                    <div id="item-text-color-description-{{id_suffix}}" class="form-help">
                      {% trans fields.item_text_color.help %}
                    </div>
                    <label class="h4">
                        <span>{% trans fields.max_items_per_zone.display_name %}</span>
                        <input type="number" min="1" step="1" class="max-items-per-zone"
                               value="{{ self.max_items_per_zone|unlocalize }}"
                               aria-describedby="max-items-per-zone-description-{{id_suffix}}">
                    </label>
                    <div id="max-items-per-zone-description-{{id_suffix}}" class="form-help">
                      {% trans fields.max_items_per_zone.help %}
                    </div>
                </form>
            </div>
            <div class="tab-content">
                <h4>{% trans "Item definitions" %}</h4>
                <form class="items-form"></form>
                <button class="btn add-item add-element">
                    <span class="icon add" aria-hidden="true"></span>
                    {% trans "Add an item" %}
                </button>
            </div>
        </section>

    </div>

    <div class="xblock-actions">
      <ul class="action-buttons">
        <li class="action-item">
          <a href="#" class="button action-primary continue-button">{% trans "Continue" %}</a>
        </li>

        <li class="action-item hidden">
          <a href="#" class="button action-primary save-button">{% trans "Save" %}</a>
        </li>

        <li class="action-item">
          <a href="#" class="button cancel-button">{% trans "Cancel" %}</a>
        </li>
      </ul>
    </div>
</div>
